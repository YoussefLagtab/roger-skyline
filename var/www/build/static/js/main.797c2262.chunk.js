(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(t,e,n){},127:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),i=(n(103),n(22)),l=n(23),u=n(25),s=n(24),m=n(26),f=n(164),d=n(66),p=n.n(d),h=n(77),b=n(28),v=n(177),E=n(44),y=n(37),C=n.n(y);function g(){var t=Object(E.a)(["\n\tmutation RemoveContact($id: ID!) {\n\t\tremoveContact(id: $id)\n\t}\n"]);return g=function(){return t},t}function O(){var t=Object(E.a)(["\n\tmutation UpdateContact($id: ID!, $firstname: String!, $lastname: String!, $phone: String!) {\n\t\tupdateContact(id: $id, firstname: $firstname, lastname: $lastname, phone: $phone) {\n\t\t\tid\n\t\t\tfirstname\n\t\t\tlastname\n\t\t\tphone\n\t\t\tcreatedAt\n\t\t\tlastModified\n\t\t}\n\t}\n"]);return O=function(){return t},t}function j(){var t=Object(E.a)(["\n\tmutation CreateContact($firstname: String!, $lastname: String!, $phone: String!) {\n\t\tcreateContact(firstname: $firstname, lastname: $lastname, phone: $phone) {\n\t\t\tid\n\t\t\tfirstname\n\t\t\tlastname\n\t\t\tphone\n\t\t\tcreatedAt\n\t\t\tlastModified\n\t\t}\n\t}\n"]);return j=function(){return t},t}function w(){var t=Object(E.a)(["\n\t{\n\t\tcontacts {\n\t\t\tid\n\t\t\tfirstname\n\t\t\tlastname\n\t\t\tphone\n\t\t\tcreatedAt\n\t\t\tlastModified\n\t\t}\n\t}\n"]);return w=function(){return t},t}var k=C()(w()),S=C()(j()),$=C()(O()),q=C()(g()),x=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(u.a)(this,Object(s.a)(e).call(this))).sumbit=function(){var e=Object(h.a)(p.a.mark(function e(n,a){var r,o,c,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,o=r.firstname,c=r.lastname,i=r.phone,"Enter"===n.key&&""!==o&&""!==c&&""!==i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a({variables:{firstname:o,lastname:c,phone:i}});case 5:t.inputRef.current.focus();case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t.state={firstname:"",lastname:"",phone:""},t.inputRef=r.a.createRef(),t}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.firstname,a=e.lastname,o=e.phone;return r.a.createElement(b.b,{mutation:S,update:function(e,n){var a=n.data.createContact;if(!a)return alert("phone number already exists!");var r=e.readQuery({query:k}).contacts;r||(r=[]),e.writeQuery({query:k,data:{contacts:r.concat([a])}}),t.setState({firstname:"",lastname:"",phone:""})}},function(e){return r.a.createElement("form",{onKeyPress:function(n){return t.sumbit(n,e)},noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{inputRef:t.inputRef,label:"FirstName",value:n,onChange:function(e){return t.setState({firstname:e.target.value})},margin:"normal",required:!0}),r.a.createElement(v.a,{required:!0,label:"Lastname",value:a,onChange:function(e){return t.setState({lastname:e.target.value})},margin:"normal"}),r.a.createElement(v.a,{required:!0,label:"Phone",value:o,onChange:function(e){return t.setState({phone:e.target.value})},margin:"normal"}))})}}]),e}(a.Component),A=n(165),Q=n(172),R=n(174),_=n(175),F=n(173),M=n(176),P=n(171),I=n(170),N=n(179),U=n(169),W=n(168),B=n(167),D=n(166),J=n(85),K=n.n(J),L=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={editing:!1,firstname:"",lastname:"",phone:""},n.sumbit=function(t,e){"Enter"===t.key&&n._updateContact(e)},n._updateContact=function(t){var e=n.state,a=e.firstname,r=e.lastname,o=e.phone,c=n.props.contact.id;a&&r&&o&&(t({variables:{id:c,firstname:a,lastname:r,phone:o}}),n.setState({editing:!1}))},n.handleOpen=function(){n.setState({editing:!0})},n.handleClose=function(){var t=n.props.contact,e=t.firstname,a=t.lastname,r=t.phone;n.setState({editing:!1,firstname:e,lastname:a,phone:r})},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentWillMount",value:function(){var t=this.props.contact,e=t.firstname,n=t.lastname,a=t.phone;this.setState({firstname:e,lastname:n,phone:a})}},{key:"render",value:function(){var t=this,e=this.state,n=e.firstname,a=e.lastname,o=e.phone;return r.a.createElement(b.b,{mutation:$,update:function(t,e){var n=e.data.updateContact,a=t.readQuery({query:k}).contacts;t.writeQuery({query:k,data:{contacts:a.map(function(t){return t.id===n.id?n:t})}})}},function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{"aria-label":"edit",onClick:t.handleOpen},r.a.createElement(K.a,null)),r.a.createElement(N.a,{open:t.state.editing,onClose:t.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(B.a,{id:"form-dialog-title"},"Edit"),r.a.createElement(W.a,null,r.a.createElement("form",{onKeyPress:function(n){t.sumbit(n,e)},noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{required:!0,label:"FirstName",value:n,onChange:function(e){return t.setState({firstname:e.target.value})},margin:"normal"}),r.a.createElement(v.a,{required:!0,label:"Lastname",value:a,onChange:function(e){return t.setState({lastname:e.target.value})},margin:"normal"}),r.a.createElement(v.a,{required:!0,label:"Phone",value:o,onChange:function(e){return t.setState({phone:e.target.value})},margin:"normal"}))),r.a.createElement(U.a,null,r.a.createElement(I.a,{onClick:t.handleClose,color:"secondary"},"Cancel"),r.a.createElement(I.a,{onClick:function(){t._updateContact(e)},color:"primary"},"Save"))))})}}]),e}(a.Component),V=n(86),z=n.n(V),T=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r))))._deleteContact=function(t){window.confirm("delete contact: "+n.props.name)&&t({variables:{id:n.props.id}})},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(b.b,{mutation:q,update:function(t,e){var n=e.data.removeContact,a=t.readQuery({query:k}).contacts;t.writeQuery({query:k,data:{contacts:a.filter(function(t){return t.id!==n})}})}},function(e,n){n.data;return r.a.createElement(D.a,{color:"secondary","aria-label":"edit",onClick:function(){return t._deleteContact(e)}},r.a.createElement(z.a,null))})}}]),e}(a.Component),G=n(88),H=n.n(G),X=n(87),Y=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.contact,e=t.firstname,n=t.lastname,a=t.phone;return r.a.createElement(X.CopyToClipboard,{text:"".concat(e," ").concat(n,": ").concat(a),onCopy:function(){alert("contact copied!")}},r.a.createElement(D.a,{"aria-label":"edit",onClick:this._copyContact},r.a.createElement(H.a,null)))}}]),e}(a.Component),Z=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(b.c,{query:k},function(t){var e=t.loading,n=t.error,a=t.data;return n?r.a.createElement("p",{style:{color:"red"}},"Error!"):e?r.a.createElement(P.a,{size:50}):r.a.createElement(A.a,null,a.contacts?r.a.createElement(r.a.Fragment,null,a.contacts.map(function(t,e,n){return r.a.createElement("div",{key:e},r.a.createElement(Q.a,null,r.a.createElement(F.a,{style:{backgroundColor:"#269df3"}},"".concat(t.firstname[0].toUpperCase()).concat(t.lastname[0].toUpperCase())),r.a.createElement(R.a,{primary:"".concat(t.firstname," ").concat(t.lastname),secondary:t.phone}),r.a.createElement(_.a,null,r.a.createElement(Y,{contact:t}),r.a.createElement(L,{contact:t}),r.a.createElement(T,{id:t.id,name:"".concat(t.firstname," ").concat(t.lastname)}))),e!==n.length-1&&r.a.createElement(M.a,null))})):r.a.createElement("p",{style:{color:"#353535"}},"no contacts!"))})}}]),e}(a.Component),tt=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{style:{margin:"30px auto",width:700,textAlign:"center",padding:"20px"}},r.a.createElement("h1",{style:{color:"#757575"}},"Contacts list"),r.a.createElement(x,null),r.a.createElement(Z,null)))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=new(n(90).a)({uri:"https://10.11.100.209/api"});c.a.render(r.a.createElement(b.a,{client:et},r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},98:function(t,e,n){t.exports=n(127)}},[[98,1,2]]]);
//# sourceMappingURL=main.797c2262.chunk.js.map